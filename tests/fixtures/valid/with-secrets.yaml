version: 0
name: with-secrets
description: MVP spec with env-sourced secrets

runtime:
  provider: ollama
  model_id: gpt-oss
  host: http://localhost:11434

env:
  secrets:
    - source: env
      key: API_KEY
    - source: env
      key: DB_PASSWORD

agents:
  secure:
    prompt: "You have secure access."

pattern:
  type: chain
  config:
    steps:
      - agent: secure
        input: "Process data securely"

outputs:
  artifacts:
    - path: ./artifacts/secure-output.txt
      from: "{{ last_response }}"
