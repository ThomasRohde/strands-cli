version: 0
name: "Notes Test - OpenAI"
description: "3-step chain to test structured notes with OpenAI"

runtime:
  provider: openai
  model_id: gpt-4o-mini

context_policy:
  notes:
    file: "./artifacts/test-notes-openai.md"
    include_last: 2

agents:
  assistant:
    prompt: |
      You are a helpful assistant. Provide concise, clear responses (1-2 sentences).
      If you see "Previous Workflow Steps" in your context, acknowledge what was done before.
    tools: []

pattern:
  type: chain
  config:
    steps:
      - agent: assistant
        input: "What is 2+2? Just give the number."
      
      - agent: assistant
        input: "What is 5*3? Just give the number."
      
      - agent: assistant
        input: "Based on the previous calculations, what is 4 + 15? Show your work."

outputs:
  artifacts:
    - path: "./final-answer-openai.txt"
      from: "{{ last_response }}"
